<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="/img/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/favicon-64.png">
    <link rel="shortcut icon" sizes="64x64" href="/img/favicon-64.png">
    <link rel="apple-touch-icon" href="/img/icon-64x64.png">

    <link href="css/index.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="js/chosen/chosen.css">
  </head>

  <body>
    
    <div class="column">
      <div id="3d-graph"></div>

      <img src="img/introduction.png" align="right" style="margin:30px"/>
      <div style="padding-top:20px;padding-left:30px">
        <p>OntoTrek is an <a href="http://OBOFoundry.org" target="_blank">OBOFoundry.org</a> ontology terminology viewer that takes advantage of <a href="https://github.com/vasturiano/3d-force-graph/" target="_blank">WebGL 3d graph rendering software</a>. We have a few ontologies to choose from during this beta phase, some easy to load like IDO, some big ones like CLO which can only be rendered by applying filters like "wireframe", no "labels", or limiting node depth.  Some ontologies demonstrate nice organization under the Basic Formal Ontology (BFO, whose 34 nodes are big, sunny, and always in the same position), and others show an "independent streak", also illustrating the difference between taxonomic and application ontologies. </p>

        <p>OntoTrek color codes terms by their ontology prefix so that one can visually see which ontologies are at play. Currently it displays all class-subclass relations starting from owl:Entity or BFO:0000001 entity or a specified entity that we downloaded underlying terms of.  OntoTrek doesn't draw other term relations.  (OntoTrek is actually running off of flat JSON versions of the given ontologies, generated using the <a href="https://github.com/GenEpiO/geem/blob/master/scripts/ontofetch.py" target="_blank">ontofetch.py</a> program).</p>

        <p>This software is being developed at the Hsiao Lab which is associated with the University of British Columbia Department of Pathology and Laboratory Medicine, and with the PHSA Public Health Laboratory at the British Columbia Centre For Disease Control. The project's GitHub is  <a href="https://github.com/GenEpiO/ontotrek" target="_blank">here</a>.  Contact <a href="mailto:damion.dooley@bccdc.ca">Damion Dooley</a> for more information.</p>
      </div>
    </div>

    <nav class="nav">
      <div id="title" class="text" style="margin-bottom:10px"><img src="img/favicon-32.png" width="32" align="left" style="margin-right:5px"/> OntoTrek 3D Viewer</div>

      <div id="control" class="text">

        <select id="ontology">
            <option value="">Select an ontology to view</option>
            <option value="data/bfo.json">BFO: Basic Formal Ontology</option>
            <option value="data/agro.json">AGRO: Agronomy Ontology</option>
            <option value="data/aro.json">ARO: Antibiotic Resistance Ontology (4K nodes)</option>
            <option value="data/clo_merged.json">CLO: Cell Line Ontology (needs filtering! 40K)</option> 
            <option value="data/cmo.json">CMO: Clinical Measurements Ontology</option>  
            <option value="data/doid-merged.json">DOID: Human Disease Ontology</option>
            <option value="data/eco.json">ECO: Evidence & Conclusion Ontology</option>  
            <option value="data/ecocore.json">ECOCORE: Ontology of Core Ecological Entities</option>  
            <option value="data/foodon.json">FOODON: Food Ontology (needs filtering! 28K)</option> 
            <option value="data/foodon-products.json">FOODON product branch (11K)</option> 
            <option value="data/genepio-merged.json">GENEPIO: Genomic Epidemiology Ontology</option> 
            <option value="data/hancestro.json">HANCESTRO: Human Ancestry Ontology</option>
            <option value="data/hp.json">HP: Human Phenotype Ontology (needs filtering! 40k)</option>
            <option value="data/ido.json">IDO: Infectious Disease Ontology</option>
            <option value="data/obi.json">OBI: Ontology for Biomedical Investigations</option>
            <option value="data/obib.json">OBIB: Ontology for Biobanking</option>           
            <option value="data/pato.json">PATO: Phenotype and Trait Ontology</option>          
            <option value="data/pco.json">PCO: Population and Community Ontology</option>   
            <option value="data/po.json">PO: Plant Ontology (anatomical branch)</option> 

        </select>

        <span id="switches">
          <input type="checkbox" id="render_quicker">
          <label for="render_quicker">wireframe</label>
          &nbsp;
          <input type="checkbox" id="render_labels" checked="checked">
          <label for="render_labels">labels</label>
          &nbsp;
          <input type="checkbox" id="render_galaxy">
          <label for="render_galaxy">galactic</label>
          &nbsp;
          <select id="render_dimensions">
            =<option value = "3" selected="selected">3D</option>
            <option value = "2">2D</option>
            <option value = "1">1D</option>
          </select>
        </span>
        
        <span id="thickness">
          <label for="thickness_control">bold</label>
          <select id="thickness_control" style="width:38px !important">
            <option value=".5">.5</option>
            <option value="1" >1</option>
            <option value="2" selected="selected">2</option>
            <option value="3">3</option>
            <option value="5">5</option>
          </select>
        </span>
        &nbsp;

        <span id="depth">
          <label for="depth_control">depth</label>
          <select id="depth_control">
            <option value="50">all</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="7">8</option>
            <option value="7">9</option>
            <option value="10">10</option>
            <option value="15">15</option>
          </select>
        </span>
        &nbsp;

        <span id="deprecated">
          <input type="checkbox" id="render_deprecated">
          <label for="render_deprecated">deprecated</label>
        </span>




        <!-- Now click or navigate within graph display -->

        <select id="label_search" class="regular text"></select>

      </div>
 
      <!-- textarea id="dump" rows="10" cols="50" -->
        
      </textarea>

      <div id="status" class="text"><span class="placeholder">term count</span></div>
      <div id="parents" class="text"><span class="placeholder">parent(s)</span></div>
      <!-- div id="term_id" class="text"><span class="placeholder">id</span></div -->
      <div id="label" class="text"><span class="placeholder">label</span></div>
      <div id="children" class="text">
        <select id="select_child" class="text"></select>
      </div>
      <div id="definition" class="text"><span class="placeholder">definition</span></div>
      <div id="synonyms" class="text"><span class="placeholder">synonyms</span></div>
      <div id="ui_label" class="text"><span class="placeholder">UI label</span></div>
      <div id="ui_definition" class="text"><span class="placeholder">UI definition</span></div>

      <div class="text" style="background-color:transparent">
        <b>Viewport navigation:</b>
        Click on a node to focus on it; view will rotate and move towards that item. Clicking on a link will take you to its target node.  <br/> 
        <b>Trackpad:</b> Zoom: 2 finger motion up and down (no motion sideways); Pan: 2 finger + click and hold mouse. Rotate: 3 finger motion. <br/> 

        <b>Mouse:</b> Zoom: move + click/hold right button or D key; Rotate: move + click/hold left button or A key. Rotate: move + click/hold middle button or S key.  <br/> 

        <b>Dashboard navigation:</b>
        Click on parent to navigate up to top, or on child to journey into the depths.
      </div>
      
    </nav>

    <script src="js/jquery-3.3.1.slim.min.js"></script>
    <script src="js/chosen/chosen.jquery.min.js"></script>
    <script src="js/bundle.js"></script>
    <script src="js/lookup_tables.js"></script>
    <script src="js/development.js"></script>
    <script src="js/common.js"></script>

  </body>
</html>